{
  "db_name": "PostgreSQL",
  "query": "select event.span_id, event.message, event.severity as \"severity: String\", event.relocated, event.timestamp, COALESCE(event_key_value.key_values, '{}') as key_values\nfrom (select *\n      from event\n      where event.service_id = $1\n        and event.trace_id = $2\n        and event.timestamp >= $3\n        and event.timestamp <= $4) as event\n         left join (select span_id,\n                           event_id,\n                           json_object_agg(\n                                    event_key_value.key,\n                                    event_key_value.value\n                                    ) as key_values\n                    from event_key_value\n                    where event_key_value.service_id = $1\n                      and event_key_value.trace_id = $2\n                      and event_key_value.timestamp >= $3\n                      and event_key_value.timestamp <= $4\n                    group by event_id, span_id) as event_key_value \n                   on event_key_value.span_id = event.span_id and event_key_value.event_id = event.id;",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "span_id",
        "type_info": "Int8"
      },
      {
        "ordinal": 1,
        "name": "message",
        "type_info": "Varchar"
      },
      {
        "ordinal": 2,
        "name": "severity: String",
        "type_info": {
          "Custom": {
            "name": "severity_level",
            "kind": {
              "Enum": [
                "trace",
                "debug",
                "info",
                "warn",
                "error"
              ]
            }
          }
        }
      },
      {
        "ordinal": 3,
        "name": "relocated",
        "type_info": "Bool"
      },
      {
        "ordinal": 4,
        "name": "timestamp",
        "type_info": "Int8"
      },
      {
        "ordinal": 5,
        "name": "key_values",
        "type_info": "Json"
      }
    ],
    "parameters": {
      "Left": [
        "Int8",
        "Int8",
        "Int8",
        "Int8"
      ]
    },
    "nullable": [
      false,
      true,
      false,
      false,
      false,
      null
    ]
  },
  "hash": "b8a427d1b2a0fee65349f71ef20c173e969f0da45f1c9ad4a67c208949d27826"
}
